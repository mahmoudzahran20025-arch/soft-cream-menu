import{r as h,a as $e,R as L}from"./react-vendor-nf7bT_Uh.js";import{s as V,d as ke,S as Re,e as Oe,c as Ae,m as B,a as Be,b as ze,f as oe,n as J,g as K}from"./swiper-vendor-C0dcf9jb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function d(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=d(l);fetch(l.href,c)}})();var me={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=h,De=Symbol.for("react.element"),Fe=Symbol.for("react.fragment"),qe=Object.prototype.hasOwnProperty,He=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0};function fe(s,e,d){var a,l={},c=null,u=null;d!==void 0&&(c=""+d),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(u=e.ref);for(a in e)qe.call(e,a)&&!Ge.hasOwnProperty(a)&&(l[a]=e[a]);if(s&&s.defaultProps)for(a in e=s.defaultProps,e)l[a]===void 0&&(l[a]=e[a]);return{$$typeof:De,type:s,key:c,ref:u,props:l,_owner:He.current}}Y.Fragment=Fe;Y.jsx=fe;Y.jsxs=fe;me.exports=Y;var t=me.exports,ee={},ce=$e;ee.createRoot=ce.createRoot,ee.hydrateRoot=ce.hydrateRoot;const q="https://softcream-api.mahmoud-zahran20025.workers.dev",xe=h.createContext(),X=()=>{const s=h.useContext(xe);if(!s)throw new Error("useProducts must be used within ProductsProvider");return s},Ve=({children:s})=>{const[e,d]=h.useState([]),[a,l]=h.useState([]),[c,u]=h.useState(null),[f,n]=h.useState(!0),[b,i]=h.useState(null),[x,C]=h.useState({category:null,energyType:null,minCalories:null,maxCalories:null,searchQuery:""}),g=h.useCallback(async()=>{try{n(!0),i(null),console.log("🔄 Fetching products from:",`${q}?path=/products`);const m=await fetch(`${q}?path=/products`);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const j=await m.json();console.log("📦 API Response:",j),j.success&&Array.isArray(j.data)?(d(j.data),l(j.data),console.log("✅ Products loaded:",j.data.length)):(console.warn("⚠️ Invalid API response format:",j),d([]),l([]),i("تنسيق البيانات غير صحيح"))}catch(m){console.error("❌ Failed to fetch products:",m),i("فشل تحميل المنتجات. يرجى المحاولة مرة أخرى."),d([]),l([])}finally{n(!1)}},[]),w=h.useCallback(async m=>{var j;try{n(!0),i(null);const E=new URLSearchParams;Object.entries(m).forEach(([T,M])=>{M!=null&&M!==""&&E.append(T,M)});const p=await(await fetch(`${q}?path=/products/discover&${E}`)).json();(j=p.data)!=null&&j.products&&l(p.data.products)}catch(E){console.error("Failed to discover products:",E),i("فشل البحث عن المنتجات.")}finally{n(!1)}},[]),N=h.useCallback(async m=>{if(!m||m.trim().length===0){l(e);return}try{n(!0);const E=await(await fetch(`${q}?path=/products/search&q=${encodeURIComponent(m)}`)).json();E.data&&l(E.data)}catch(j){console.error("Search failed:",j)}finally{n(!1)}},[e]),_=h.useCallback(async(m,j=5)=>{try{return(await(await fetch(`${q}?path=/products/recommendations/${m}&limit=${j}`)).json()).data||[]}catch(E){return console.error("Failed to get recommendations:",E),[]}},[]),v=h.useCallback(m=>{if(C(m),m.searchQuery){N(m.searchQuery);return}const j={};m.category&&(j.category=m.category),m.energyType&&(j.energyType=m.energyType),m.minCalories&&(j.minCalories=m.minCalories),m.maxCalories&&(j.maxCalories=m.maxCalories),Object.keys(j).length>0?w(j):l(e)},[e,N,w]),o=h.useCallback(m=>{u(m)},[]),r=h.useCallback(()=>{u(null)},[]);h.useEffect(()=>{g()},[g]);const y={products:e,filteredProducts:a,selectedProduct:c,loading:f,error:b,filters:x,fetchProducts:g,discoverProducts:w,searchProducts:N,getRecommendations:_,applyFilters:v,openProduct:o,closeProduct:r};return t.jsx(xe.Provider,{value:y,children:s})},he=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function D(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function F(s,e){const d=["__proto__","constructor","prototype"];Object.keys(e).filter(a=>d.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=e[a]:D(e[a])&&D(s[a])&&Object.keys(e[a]).length>0?e[a].__swiper__?s[a]=e[a]:F(s[a],e[a]):s[a]=e[a]})}function ge(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function ye(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function be(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function ve(s){s===void 0&&(s="");const e=s.split(" ").map(a=>a.trim()).filter(a=>!!a),d=[];return e.forEach(a=>{d.indexOf(a)<0&&d.push(a)}),d.join(" ")}function Ze(s){return s===void 0&&(s=""),s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function Qe(s){let{swiper:e,slides:d,passedParams:a,changedParams:l,nextEl:c,prevEl:u,scrollbarEl:f,paginationEl:n}=s;const b=l.filter(p=>p!=="children"&&p!=="direction"&&p!=="wrapperClass"),{params:i,pagination:x,navigation:C,scrollbar:g,virtual:w,thumbs:N}=e;let _,v,o,r,y,m,j,E;l.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&i.thumbs&&(!i.thumbs.swiper||i.thumbs.swiper.destroyed)&&(_=!0),l.includes("controller")&&a.controller&&a.controller.control&&i.controller&&!i.controller.control&&(v=!0),l.includes("pagination")&&a.pagination&&(a.pagination.el||n)&&(i.pagination||i.pagination===!1)&&x&&!x.el&&(o=!0),l.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||f)&&(i.scrollbar||i.scrollbar===!1)&&g&&!g.el&&(r=!0),l.includes("navigation")&&a.navigation&&(a.navigation.prevEl||u)&&(a.navigation.nextEl||c)&&(i.navigation||i.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&(y=!0);const S=p=>{e[p]&&(e[p].destroy(),p==="navigation"?(e.isElement&&(e[p].prevEl.remove(),e[p].nextEl.remove()),i[p].prevEl=void 0,i[p].nextEl=void 0,e[p].prevEl=void 0,e[p].nextEl=void 0):(e.isElement&&e[p].el.remove(),i[p].el=void 0,e[p].el=void 0))};l.includes("loop")&&e.isElement&&(i.loop&&!a.loop?m=!0:!i.loop&&a.loop?j=!0:E=!0),b.forEach(p=>{if(D(i[p])&&D(a[p]))Object.assign(i[p],a[p]),(p==="navigation"||p==="pagination"||p==="scrollbar")&&"enabled"in a[p]&&!a[p].enabled&&S(p);else{const T=a[p];(T===!0||T===!1)&&(p==="navigation"||p==="pagination"||p==="scrollbar")?T===!1&&S(p):i[p]=a[p]}}),b.includes("controller")&&!v&&e.controller&&e.controller.control&&i.controller&&i.controller.control&&(e.controller.control=i.controller.control),l.includes("children")&&d&&w&&i.virtual.enabled?(w.slides=d,w.update(!0)):l.includes("virtual")&&w&&i.virtual.enabled&&(d&&(w.slides=d),w.update(!0)),l.includes("children")&&d&&i.loop&&(E=!0),_&&N.init()&&N.update(!0),v&&(e.controller.control=i.controller.control),o&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),n.part.add("pagination"),e.el.appendChild(n)),n&&(i.pagination.el=n),x.init(),x.render(),x.update()),r&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(i.scrollbar.el=f),g.init(),g.updateSize(),g.setTranslate()),y&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),V(c,e.hostEl.constructor.nextButtonSvg),c.part.add("button-next"),e.el.appendChild(c)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),V(u,e.hostEl.constructor.prevButtonSvg),u.part.add("button-prev"),e.el.appendChild(u))),c&&(i.navigation.nextEl=c),u&&(i.navigation.prevEl=u),C.init(),C.update()),l.includes("allowSlideNext")&&(e.allowSlideNext=a.allowSlideNext),l.includes("allowSlidePrev")&&(e.allowSlidePrev=a.allowSlidePrev),l.includes("direction")&&e.changeDirection(a.direction,!1),(m||E)&&e.loopDestroy(),(j||E)&&e.loopCreate(),e.update()}function We(s,e){s===void 0&&(s={}),e===void 0&&(e=!0);const d={on:{}},a={},l={};F(d,ke),d._emitClasses=!0,d.init=!1;const c={},u=he.map(n=>n.replace(/_/,"")),f=Object.assign({},s);return Object.keys(f).forEach(n=>{typeof s[n]>"u"||(u.indexOf(n)>=0?D(s[n])?(d[n]={},l[n]={},F(d[n],s[n]),F(l[n],s[n])):(d[n]=s[n],l[n]=s[n]):n.search(/on[A-Z]/)===0&&typeof s[n]=="function"?e?a[`${n[2].toLowerCase()}${n.substr(3)}`]=s[n]:d.on[`${n[2].toLowerCase()}${n.substr(3)}`]=s[n]:c[n]=s[n])}),["navigation","pagination","scrollbar"].forEach(n=>{d[n]===!0&&(d[n]={}),d[n]===!1&&delete d[n]}),{params:d,passedParams:l,rest:c,events:a}}function Ue(s,e){let{el:d,nextEl:a,prevEl:l,paginationEl:c,scrollbarEl:u,swiper:f}=s;ge(e)&&a&&l&&(f.params.navigation.nextEl=a,f.originalParams.navigation.nextEl=a,f.params.navigation.prevEl=l,f.originalParams.navigation.prevEl=l),ye(e)&&c&&(f.params.pagination.el=c,f.originalParams.pagination.el=c),be(e)&&u&&(f.params.scrollbar.el=u,f.originalParams.scrollbar.el=u),f.init(d)}function Ye(s,e,d,a,l){const c=[];if(!e)return c;const u=n=>{c.indexOf(n)<0&&c.push(n)};if(d&&a){const n=a.map(l),b=d.map(l);n.join("")!==b.join("")&&u("children"),a.length!==d.length&&u("children")}return he.filter(n=>n[0]==="_").map(n=>n.replace(/_/,"")).forEach(n=>{if(n in s&&n in e)if(D(s[n])&&D(e[n])){const b=Object.keys(s[n]),i=Object.keys(e[n]);b.length!==i.length?u(n):(b.forEach(x=>{s[n][x]!==e[n][x]&&u(n)}),i.forEach(x=>{s[n][x]!==e[n][x]&&u(n)}))}else s[n]!==e[n]&&u(n)}),c}const Xe=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.emit("_virtualUpdated"),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function Z(){return Z=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var d=arguments[e];for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(s[a]=d[a])}return s},Z.apply(this,arguments)}function je(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function we(s){const e=[];return L.Children.toArray(s).forEach(d=>{je(d)?e.push(d):d.props&&d.props.children&&we(d.props.children).forEach(a=>e.push(a))}),e}function Je(s){const e=[],d={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return L.Children.toArray(s).forEach(a=>{if(je(a))e.push(a);else if(a.props&&a.props.slot&&d[a.props.slot])d[a.props.slot].push(a);else if(a.props&&a.props.children){const l=we(a.props.children);l.length>0?l.forEach(c=>e.push(c)):d["container-end"].push(a)}else d["container-end"].push(a)}),{slides:e,slots:d}}function Ke(s,e,d){if(!d)return null;const a=i=>{let x=i;return i<0?x=e.length+i:x>=e.length&&(x=x-e.length),x},l=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${d.offset}px`}:{top:`${d.offset}px`},{from:c,to:u}=d,f=s.params.loop?-e.length:0,n=s.params.loop?e.length*2:e.length,b=[];for(let i=f;i<n;i+=1)i>=c&&i<=u&&b.push(e[a(i)]);return b.map((i,x)=>L.cloneElement(i,{swiper:s,style:l,key:i.props.virtualIndex||i.key||`slide-${x}`}))}function G(s,e){return typeof window>"u"?h.useEffect(s,e):h.useLayoutEffect(s,e)}const de=h.createContext(null),et=h.createContext(null),te=h.forwardRef(function(s,e){let{className:d,tag:a="div",wrapperTag:l="div",children:c,onSwiper:u,...f}=s===void 0?{}:s,n=!1;const[b,i]=h.useState("swiper"),[x,C]=h.useState(null),[g,w]=h.useState(!1),N=h.useRef(!1),_=h.useRef(null),v=h.useRef(null),o=h.useRef(null),r=h.useRef(null),y=h.useRef(null),m=h.useRef(null),j=h.useRef(null),E=h.useRef(null),{params:S,passedParams:p,rest:T,events:M}=We(f),{slides:A,slots:P}=Je(c),$=()=>{w(!g)};Object.assign(S.on,{_containerClasses(R,I){i(I)}});const k=()=>{Object.assign(S.on,M),n=!0;const R={...S};if(delete R.wrapperClass,v.current=new Re(R),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=A;const I={cache:!1,slides:A,renderExternal:C,renderExternalUpdate:!1};F(v.current.params.virtual,I),F(v.current.originalParams.virtual,I)}};_.current||k(),v.current&&v.current.on("_beforeBreakpoint",$);const z=()=>{n||!M||!v.current||Object.keys(M).forEach(R=>{v.current.on(R,M[R])})},Te=()=>{!M||!v.current||Object.keys(M).forEach(R=>{v.current.off(R,M[R])})};h.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",$)}),h.useEffect(()=>{!N.current&&v.current&&(v.current.emitSlidesClasses(),N.current=!0)}),G(()=>{if(e&&(e.current=_.current),!!_.current)return v.current.destroyed&&k(),Ue({el:_.current,nextEl:y.current,prevEl:m.current,paginationEl:j.current,scrollbarEl:E.current,swiper:v.current},S),u&&!v.current.destroyed&&u(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),G(()=>{z();const R=Ye(p,o.current,A,r.current,I=>I.key);return o.current=p,r.current=A,R.length&&v.current&&!v.current.destroyed&&Qe({swiper:v.current,slides:A,passedParams:p,changedParams:R,nextEl:y.current,prevEl:m.current,scrollbarEl:E.current,paginationEl:j.current}),()=>{Te()}}),G(()=>{Xe(v.current)},[x]);function Le(){return S.virtual?Ke(v.current,A,x):A.map((R,I)=>L.cloneElement(R,{swiper:v.current,swiperSlideIndex:I}))}return L.createElement(a,Z({ref:_,className:ve(`${b}${d?` ${d}`:""}`)},T),L.createElement(et.Provider,{value:v.current},P["container-start"],L.createElement(l,{className:Ze(S.wrapperClass)},P["wrapper-start"],Le(),P["wrapper-end"]),ge(S)&&L.createElement(L.Fragment,null,L.createElement("div",{ref:m,className:"swiper-button-prev"}),L.createElement("div",{ref:y,className:"swiper-button-next"})),be(S)&&L.createElement("div",{ref:E,className:"swiper-scrollbar"}),ye(S)&&L.createElement("div",{ref:j,className:"swiper-pagination"}),P["container-end"]))});te.displayName="Swiper";const se=h.forwardRef(function(s,e){let{tag:d="div",children:a,className:l="",swiper:c,zoom:u,lazy:f,virtualIndex:n,swiperSlideIndex:b,...i}=s===void 0?{}:s;const x=h.useRef(null),[C,g]=h.useState("swiper-slide"),[w,N]=h.useState(!1);function _(y,m,j){m===x.current&&g(j)}G(()=>{if(typeof b<"u"&&(x.current.swiperSlideIndex=b),e&&(e.current=x.current),!(!x.current||!c)){if(c.destroyed){C!=="swiper-slide"&&g("swiper-slide");return}return c.on("_slideClass",_),()=>{c&&c.off("_slideClass",_)}}}),G(()=>{c&&x.current&&!c.destroyed&&g(c.getSlideClasses(x.current))},[c]);const v={isActive:C.indexOf("swiper-slide-active")>=0,isVisible:C.indexOf("swiper-slide-visible")>=0,isPrev:C.indexOf("swiper-slide-prev")>=0,isNext:C.indexOf("swiper-slide-next")>=0},o=()=>typeof a=="function"?a(v):a,r=()=>{N(!0)};return L.createElement(d,Z({ref:x,className:ve(`${C}${l?` ${l}`:""}`),"data-swiper-slide-index":n,onLoad:r},i),u&&L.createElement(de.Provider,{value:v},L.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},o(),f&&!w&&L.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&L.createElement(de.Provider,{value:v},o(),f&&!w&&L.createElement("div",{className:"swiper-lazy-preloader"})))});se.displayName="SwiperSlide";function tt(s,e,d,a){return s.params.createElements&&Object.keys(a).forEach(l=>{if(!d[l]&&d.auto===!0){let c=Oe(s.el,`.${a[l]}`)[0];c||(c=Ae("div",a[l]),c.className=a[l],s.el.append(c)),d[l]=c,e[l]=c}}),d}function H(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function st(s){let{swiper:e,extendParams:d,on:a,emit:l}=s;const c="swiper-pagination";d({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:o=>o,formatFractionTotal:o=>o,bulletClass:`${c}-bullet`,bulletActiveClass:`${c}-bullet-active`,modifierClass:`${c}-`,currentClass:`${c}-current`,totalClass:`${c}-total`,hiddenClass:`${c}-hidden`,progressbarFillClass:`${c}-progressbar-fill`,progressbarOppositeClass:`${c}-progressbar-opposite`,clickableClass:`${c}-clickable`,lockClass:`${c}-lock`,horizontalClass:`${c}-horizontal`,verticalClass:`${c}-vertical`,paginationDisabledClass:`${c}-disabled`}}),e.pagination={el:null,bullets:[]};let u,f=0;function n(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function b(o,r){const{bulletActiveClass:y}=e.params.pagination;o&&(o=o[`${r==="prev"?"previous":"next"}ElementSibling`],o&&(o.classList.add(`${y}-${r}`),o=o[`${r==="prev"?"previous":"next"}ElementSibling`],o&&o.classList.add(`${y}-${r}-${r}`)))}function i(o,r,y){if(o=o%y,r=r%y,r===o+1)return"next";if(r===o-1)return"previous"}function x(o){const r=o.target.closest(H(e.params.pagination.bulletClass));if(!r)return;o.preventDefault();const y=oe(r)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===y)return;const m=i(e.realIndex,y,e.slides.length);m==="next"?e.slideNext():m==="previous"?e.slidePrev():e.slideToLoop(y)}else e.slideTo(y)}function C(){const o=e.rtl,r=e.params.pagination;if(n())return;let y=e.pagination.el;y=B(y);let m,j;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,S=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(j=e.previousRealIndex||0,m=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(m=e.snapIndex,j=e.previousSnapIndex):(j=e.previousIndex||0,m=e.activeIndex||0),r.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const p=e.pagination.bullets;let T,M,A;if(r.dynamicBullets&&(u=ze(p[0],e.isHorizontal()?"width":"height"),y.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${u*(r.dynamicMainBullets+4)}px`}),r.dynamicMainBullets>1&&j!==void 0&&(f+=m-(j||0),f>r.dynamicMainBullets-1?f=r.dynamicMainBullets-1:f<0&&(f=0)),T=Math.max(m-f,0),M=T+(Math.min(p.length,r.dynamicMainBullets)-1),A=(M+T)/2),p.forEach(P=>{const $=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${r.bulletActiveClass}${k}`)].map(k=>typeof k=="string"&&k.includes(" ")?k.split(" "):k).flat();P.classList.remove(...$)}),y.length>1)p.forEach(P=>{const $=oe(P);$===m?P.classList.add(...r.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),r.dynamicBullets&&($>=T&&$<=M&&P.classList.add(...`${r.bulletActiveClass}-main`.split(" ")),$===T&&b(P,"prev"),$===M&&b(P,"next"))});else{const P=p[m];if(P&&P.classList.add(...r.bulletActiveClass.split(" ")),e.isElement&&p.forEach(($,k)=>{$.setAttribute("part",k===m?"bullet-active":"bullet")}),r.dynamicBullets){const $=p[T],k=p[M];for(let z=T;z<=M;z+=1)p[z]&&p[z].classList.add(...`${r.bulletActiveClass}-main`.split(" "));b($,"prev"),b(k,"next")}}if(r.dynamicBullets){const P=Math.min(p.length,r.dynamicMainBullets+4),$=(u*P-u)/2-A*u,k=o?"right":"left";p.forEach(z=>{z.style[e.isHorizontal()?k:"top"]=`${$}px`})}}y.forEach((p,T)=>{if(r.type==="fraction"&&(p.querySelectorAll(H(r.currentClass)).forEach(M=>{M.textContent=r.formatFractionCurrent(m+1)}),p.querySelectorAll(H(r.totalClass)).forEach(M=>{M.textContent=r.formatFractionTotal(S)})),r.type==="progressbar"){let M;r.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const A=(m+1)/S;let P=1,$=1;M==="horizontal"?P=A:$=A,p.querySelectorAll(H(r.progressbarFillClass)).forEach(k=>{k.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${$})`,k.style.transitionDuration=`${e.params.speed}ms`})}r.type==="custom"&&r.renderCustom?(V(p,r.renderCustom(e,m+1,S)),T===0&&l("paginationRender",p)):(T===0&&l("paginationRender",p),l("paginationUpdate",p)),e.params.watchOverflow&&e.enabled&&p.classList[e.isLocked?"add":"remove"](r.lockClass)})}function g(){const o=e.params.pagination;if(n())return;const r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let y=e.pagination.el;y=B(y);let m="";if(o.type==="bullets"){let j=e.params.loop?Math.ceil(r/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&j>r&&(j=r);for(let E=0;E<j;E+=1)o.renderBullet?m+=o.renderBullet.call(e,E,o.bulletClass):m+=`<${o.bulletElement} ${e.isElement?'part="bullet"':""} class="${o.bulletClass}"></${o.bulletElement}>`}o.type==="fraction"&&(o.renderFraction?m=o.renderFraction.call(e,o.currentClass,o.totalClass):m=`<span class="${o.currentClass}"></span> / <span class="${o.totalClass}"></span>`),o.type==="progressbar"&&(o.renderProgressbar?m=o.renderProgressbar.call(e,o.progressbarFillClass):m=`<span class="${o.progressbarFillClass}"></span>`),e.pagination.bullets=[],y.forEach(j=>{o.type!=="custom"&&V(j,m||""),o.type==="bullets"&&e.pagination.bullets.push(...j.querySelectorAll(H(o.bulletClass)))}),o.type!=="custom"&&l("paginationRender",y[0])}function w(){e.params.pagination=tt(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const o=e.params.pagination;if(!o.el)return;let r;typeof o.el=="string"&&e.isElement&&(r=e.el.querySelector(o.el)),!r&&typeof o.el=="string"&&(r=[...document.querySelectorAll(o.el)]),r||(r=o.el),!(!r||r.length===0)&&(e.params.uniqueNavElements&&typeof o.el=="string"&&Array.isArray(r)&&r.length>1&&(r=[...e.el.querySelectorAll(o.el)],r.length>1&&(r=r.find(y=>Be(y,".swiper")[0]===e.el))),Array.isArray(r)&&r.length===1&&(r=r[0]),Object.assign(e.pagination,{el:r}),r=B(r),r.forEach(y=>{o.type==="bullets"&&o.clickable&&y.classList.add(...(o.clickableClass||"").split(" ")),y.classList.add(o.modifierClass+o.type),y.classList.add(e.isHorizontal()?o.horizontalClass:o.verticalClass),o.type==="bullets"&&o.dynamicBullets&&(y.classList.add(`${o.modifierClass}${o.type}-dynamic`),f=0,o.dynamicMainBullets<1&&(o.dynamicMainBullets=1)),o.type==="progressbar"&&o.progressbarOpposite&&y.classList.add(o.progressbarOppositeClass),o.clickable&&y.addEventListener("click",x),e.enabled||y.classList.add(o.lockClass)}))}function N(){const o=e.params.pagination;if(n())return;let r=e.pagination.el;r&&(r=B(r),r.forEach(y=>{y.classList.remove(o.hiddenClass),y.classList.remove(o.modifierClass+o.type),y.classList.remove(e.isHorizontal()?o.horizontalClass:o.verticalClass),o.clickable&&(y.classList.remove(...(o.clickableClass||"").split(" ")),y.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(y=>y.classList.remove(...o.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const o=e.params.pagination;let{el:r}=e.pagination;r=B(r),r.forEach(y=>{y.classList.remove(o.horizontalClass,o.verticalClass),y.classList.add(e.isHorizontal()?o.horizontalClass:o.verticalClass)})}),a("init",()=>{e.params.pagination.enabled===!1?v():(w(),g(),C())}),a("activeIndexChange",()=>{typeof e.snapIndex>"u"&&C()}),a("snapIndexChange",()=>{C()}),a("snapGridLengthChange",()=>{g(),C()}),a("destroy",()=>{N()}),a("enable disable",()=>{let{el:o}=e.pagination;o&&(o=B(o),o.forEach(r=>r.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),a("lock unlock",()=>{C()}),a("click",(o,r)=>{const y=r.target,m=B(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&m&&m.length>0&&!y.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&y===e.navigation.nextEl||e.navigation.prevEl&&y===e.navigation.prevEl))return;const j=m[0].classList.contains(e.params.pagination.hiddenClass);l(j===!0?"paginationShow":"paginationHide"),m.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const _=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:o}=e.pagination;o&&(o=B(o),o.forEach(r=>r.classList.remove(e.params.pagination.paginationDisabledClass))),w(),g(),C()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:o}=e.pagination;o&&(o=B(o),o.forEach(r=>r.classList.add(e.params.pagination.paginationDisabledClass))),N()};Object.assign(e.pagination,{enable:_,disable:v,render:g,update:C,init:w,destroy:N})}function Ne(s){let{swiper:e,extendParams:d,emit:a,once:l}=s;d({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function c(){if(e.params.cssMode)return;const n=e.getTranslate();e.setTranslate(n),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:n,touches:b}=e;n.velocities.length===0&&n.velocities.push({position:b[e.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:b[e.isHorizontal()?"currentX":"currentY"],time:J()})}function f(n){let{currentPos:b}=n;if(e.params.cssMode)return;const{params:i,wrapperEl:x,rtlTranslate:C,snapGrid:g,touchEventsData:w}=e,_=J()-w.touchStartTime;if(b<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(b>-e.maxTranslate()){e.slides.length<g.length?e.slideTo(g.length-1):e.slideTo(e.slides.length-1);return}if(i.freeMode.momentum){if(w.velocities.length>1){const S=w.velocities.pop(),p=w.velocities.pop(),T=S.position-p.position,M=S.time-p.time;e.velocity=T/M,e.velocity/=2,Math.abs(e.velocity)<i.freeMode.minimumVelocity&&(e.velocity=0),(M>150||J()-S.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeMode.momentumVelocityRatio,w.velocities.length=0;let v=1e3*i.freeMode.momentumRatio;const o=e.velocity*v;let r=e.translate+o;C&&(r=-r);let y=!1,m;const j=Math.abs(e.velocity)*20*i.freeMode.momentumBounceRatio;let E;if(r<e.maxTranslate())i.freeMode.momentumBounce?(r+e.maxTranslate()<-j&&(r=e.maxTranslate()-j),m=e.maxTranslate(),y=!0,w.allowMomentumBounce=!0):r=e.maxTranslate(),i.loop&&i.centeredSlides&&(E=!0);else if(r>e.minTranslate())i.freeMode.momentumBounce?(r-e.minTranslate()>j&&(r=e.minTranslate()+j),m=e.minTranslate(),y=!0,w.allowMomentumBounce=!0):r=e.minTranslate(),i.loop&&i.centeredSlides&&(E=!0);else if(i.freeMode.sticky){let S;for(let p=0;p<g.length;p+=1)if(g[p]>-r){S=p;break}Math.abs(g[S]-r)<Math.abs(g[S-1]-r)||e.swipeDirection==="next"?r=g[S]:r=g[S-1],r=-r}if(E&&l("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(C?v=Math.abs((-r-e.translate)/e.velocity):v=Math.abs((r-e.translate)/e.velocity),i.freeMode.sticky){const S=Math.abs((C?-r:r)-e.translate),p=e.slidesSizesGrid[e.activeIndex];S<p?v=i.speed:S<2*p?v=i.speed*1.5:v=i.speed*2.5}}else if(i.freeMode.sticky){e.slideToClosest();return}i.freeMode.momentumBounce&&y?(e.updateProgress(m),e.setTransition(v),e.setTranslate(r),e.transitionStart(!0,e.swipeDirection),e.animating=!0,K(x,()=>{!e||e.destroyed||!w.allowMomentumBounce||(a("momentumBounce"),e.setTransition(i.speed),setTimeout(()=>{e.setTranslate(m),K(x,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(a("_freeModeNoMomentumRelease"),e.updateProgress(r),e.setTransition(v),e.setTranslate(r),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,K(x,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(r),e.updateActiveIndex(),e.updateSlidesClasses()}else if(i.freeMode.sticky){e.slideToClosest();return}else i.freeMode&&a("_freeModeNoMomentumRelease");(!i.freeMode.momentum||_>=i.longSwipesMs)&&(a("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:c,onTouchMove:u,onTouchEnd:f}})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ce=(...s)=>s.filter((e,d,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===d).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=h.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:d=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:u,...f},n)=>h.createElement("svg",{ref:n,...nt,width:e,height:e,stroke:s,strokeWidth:a?Number(d)*24/Number(e):d,className:Ce("lucide",l),...f},[...u.map(([b,i])=>h.createElement(b,i)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=(s,e)=>{const d=h.forwardRef(({className:a,...l},c)=>h.createElement(lt,{ref:c,iconNode:e,className:Ce(`lucide-${at(s)}`,a),...l}));return d.displayName=`${s}`,d};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=O("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=O("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=O("Candy",[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z",key:"ue6khb"}],["path",{d:"M14 6.5v10",key:"5xnk7c"}],["path",{d:"M10 7.5v10",key:"1uew51"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1",key:"b9cp6k"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1",key:"5lney8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=O("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=O("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=O("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=O("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=O("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=O("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=O("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Me={mental:{label:"طاقة ذهنية",labelEn:"Mental Energy",icon:ae,color:"energy-mental",bgClass:"bg-purple-100",textClass:"text-purple-700",borderClass:"border-purple-300",glowClass:"energy-badge-mental"},physical:{label:"طاقة بدنية",labelEn:"Physical Energy",icon:Q,color:"energy-physical",bgClass:"bg-orange-100",textClass:"text-orange-700",borderClass:"border-orange-300",glowClass:"energy-badge-physical"},balanced:{label:"طاقة متوازنة",labelEn:"Balanced Energy",icon:ie,color:"energy-balanced",bgClass:"bg-green-100",textClass:"text-green-700",borderClass:"border-green-300",glowClass:"energy-badge-balanced"}},Pe=({energyType:s,energyScore:e=0,size:d="md",showScore:a=!0,showLabel:l=!1,className:c=""})=>{if(!s||s==="none")return null;const u=Me[s];if(!u)return null;const f=u.icon,n={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},b={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return t.jsxs("div",{className:`
        inline-flex items-center gap-1.5 rounded-full border-2
        ${u.bgClass} ${u.textClass} ${u.borderClass}
        ${n[d]}
        font-semibold transition-all duration-300
        ${u.glowClass}
        ${c}
      `,children:[t.jsx(f,{className:b[d]}),l&&t.jsx("span",{className:"whitespace-nowrap",children:u.label}),a&&e>0&&t.jsx("span",{className:"font-bold",children:e})]})},dt=({energyType:s,energyScore:e=0,className:d=""})=>{if(!s||s==="none")return null;const a=Me[s];if(!a)return null;const l=Math.min(Math.max(e,0),100);return t.jsxs("div",{className:`w-full ${d}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:`text-xs font-medium ${a.textClass}`,children:a.label}),t.jsx("span",{className:`text-xs font-bold ${a.textClass}`,children:e})]}),t.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${a.bgClass} transition-all duration-500 ease-out`,style:{width:`${l}%`}})})]})},_e=({product:s,onAddToCart:e})=>{const{openProduct:d}=X(),[a,l]=h.useState(!1),[c,u]=h.useState(!1),f=b=>{b.stopPropagation(),e(s),b.currentTarget.classList.add("scale-90"),setTimeout(()=>{b.currentTarget.classList.remove("scale-90")},150)},n=()=>{d(s)};return t.jsxs("div",{onClick:n,className:`
        group relative
        bg-white rounded-2xl shadow-md overflow-hidden
        cursor-pointer transition-all duration-300
        hover:shadow-2xl hover:-translate-y-2
        product-card
      `,children:[t.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[!a&&!c&&t.jsx("div",{className:"absolute inset-0 skeleton"}),t.jsx("img",{src:c?"/placeholder-ice-cream.jpg":s.image,alt:s.name,loading:"lazy",onLoad:()=>l(!0),onError:()=>u(!0),className:`
            w-full h-full object-cover
            transition-all duration-500
            group-hover:scale-110
            ${a?"opacity-100":"opacity-0"}
          `}),s.badge&&t.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:s.badge}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(Pe,{energyType:s.energy_type,energyScore:s.energy_score,size:"sm",showScore:!1})}),t.jsx("div",{className:`
          absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent
          opacity-0 group-hover:opacity-100
          transition-opacity duration-300
          flex flex-col justify-end p-3
        `,children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-white text-xs",children:[t.jsx(W,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"font-semibold",children:[s.calories," سعرة"]})]}),s.protein>0&&t.jsxs("div",{className:"flex items-center gap-1.5 text-white text-xs",children:[t.jsx(ne,{className:"w-3.5 h-3.5"}),t.jsxs("span",{className:"font-semibold",children:[s.protein,"g بروتين"]})]})]})}),t.jsx("button",{onClick:f,className:`
            absolute bottom-2 right-2
            w-8 h-8 rounded-full
            bg-primary-500 text-white
            flex items-center justify-center
            shadow-lg
            opacity-0 group-hover:opacity-100
            transition-all duration-300
            hover:bg-primary-600 hover:scale-110
            active:scale-90
          `,"aria-label":"إضافة سريعة",children:t.jsx(le,{className:"w-5 h-5",strokeWidth:3})})]}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsx("h3",{className:"font-bold text-gray-900 text-sm line-clamp-2 min-h-[2.5rem]",children:s.name}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-lg font-bold text-primary-600",children:s.price}),t.jsx("span",{className:"text-xs text-gray-500",children:"ج.م"})]}),s.energy_score>0&&t.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-gray-600",children:[t.jsx("span",{className:"text-yellow-500",children:"⚡"}),t.jsx("span",{children:s.energy_score})]})]}),s.category&&t.jsx("div",{className:"inline-block px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.category})]})]})},ut=({onAddToCart:s})=>{const{filteredProducts:e,loading:d,error:a}=X(),l=h.useMemo(()=>{const c={};return e.forEach(u=>{const f=u.category||"أخرى";c[f]||(c[f]=[]),c[f].push(u)}),Object.entries(c).map(([u,f])=>({category:u,products:f}))},[e]);return d?t.jsx("div",{className:"space-y-8",children:[1,2].map(c=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded skeleton"}),t.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3].map(u=>t.jsxs("div",{className:"w-[160px] md:w-[200px] flex-shrink-0",children:[t.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-2xl skeleton"}),t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded skeleton"}),t.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded skeleton"})]})]},u))})]},c))}):a?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:"😕"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"عذراً، حدث خطأ"}),t.jsx("p",{className:"text-gray-600",children:a})]}):e.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"لا توجد منتجات"}),t.jsx("p",{className:"text-gray-600",children:"جرب تغيير الفلاتر أو البحث بكلمات أخرى"})]}):t.jsx("div",{className:"space-y-8",children:l.map(({category:c,products:u})=>t.jsxs("section",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c}),t.jsxs("span",{className:"text-sm text-gray-500",children:[u.length," منتج"]})]}),t.jsx(te,{modules:[Ne,st],spaceBetween:16,slidesPerView:"auto",freeMode:{enabled:!0,sticky:!1,momentum:!0,momentumRatio:.5},pagination:{clickable:!0,dynamicBullets:!0},className:"!pb-10",dir:"rtl",children:u.map(f=>t.jsx(se,{className:"!w-[160px] md:!w-[200px]",children:t.jsx(_e,{product:f,onAddToCart:s})},f.id))})]},c))})},pt=({onAddToCart:s})=>{const{selectedProduct:e,closeProduct:d,getRecommendations:a}=X(),[l,c]=h.useState(1),[u,f]=h.useState([]),[n,b]=h.useState(!1);if(h.useEffect(()=>{e&&(c(1),b(!1),a(e.id,5).then(N=>{f(N)}))},[e,a]),!e)return null;const i=()=>{for(let N=0;N<l;N++)s(e);d()},x=N=>{N.target===N.currentTarget&&d()},C=e.tags?JSON.parse(e.tags):[],g=e.ingredients?JSON.parse(e.ingredients):[],w=e.allergens?JSON.parse(e.allergens):[];return t.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center modal-backdrop animate-fade-in",onClick:x,children:t.jsxs("div",{className:`
        relative bg-white w-full max-w-2xl 
        rounded-t-3xl md:rounded-3xl 
        max-h-[90vh] overflow-y-auto
        animate-slide-up
        shadow-2xl
      `,children:[t.jsx("button",{onClick:d,className:"absolute top-4 left-4 z-10 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:t.jsx(U,{className:"w-6 h-6 text-gray-600"})}),t.jsxs("div",{className:"relative h-64 md:h-80 overflow-hidden bg-gray-100",children:[t.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.badge&&t.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:e.badge}),t.jsx("div",{className:"absolute bottom-4 right-4",children:t.jsx(Pe,{energyType:e.energy_type,energyScore:e.energy_score,size:"lg",showLabel:!0})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:e.name}),t.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:e.description})]}),t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-2xl p-4",children:[t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-primary-600",children:e.price*l}),t.jsx("span",{className:"text-gray-500",children:"ج.م"})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-1 shadow-sm",children:[t.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",disabled:l<=1,children:t.jsx(Ee,{className:"w-4 h-4"})}),t.jsx("span",{className:"w-8 text-center font-bold",children:l}),t.jsx("button",{onClick:()=>c(l+1),className:"w-8 h-8 rounded-lg bg-primary-500 hover:bg-primary-600 text-white flex items-center justify-center transition-colors",children:t.jsx(le,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-xl",children:[t.jsx(W,{className:"w-6 h-6 text-orange-500 mx-auto mb-1"}),t.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.calories}),t.jsx("div",{className:"text-xs text-gray-600",children:"سعرة"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-xl",children:[t.jsx(ne,{className:"w-6 h-6 text-blue-500 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[e.protein,"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"بروتين"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-xl",children:[t.jsx(Se,{className:"w-6 h-6 text-yellow-600 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[e.carbs,"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"كربوهيدرات"})]}),t.jsxs("div",{className:"text-center p-3 bg-pink-50 rounded-xl",children:[t.jsx(rt,{className:"w-6 h-6 text-pink-500 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[e.sugar,"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"سكر"})]})]}),e.energy_type!=="none"&&t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-4 space-y-3",children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"تحليل الطاقة"}),t.jsx(dt,{energyType:e.energy_type,energyScore:e.energy_score})]}),C.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"المميزات"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((N,_)=>t.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:["#",N]},_))})]}),t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>b(!n),className:"w-full text-right font-bold text-gray-900 mb-2 flex items-center justify-between",children:[t.jsx("span",{children:"القيم الغذائية التفصيلية"}),t.jsx("span",{className:"text-primary-500",children:n?"−":"+"})]}),n&&t.jsxs("div",{className:"space-y-2 animate-slide-up",children:[t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"الدهون"}),t.jsxs("span",{className:"font-semibold",children:[e.fat,"g"]})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"الألياف"}),t.jsxs("span",{className:"font-semibold",children:[e.fiber,"g"]})]}),g.length>0&&t.jsxs("div",{className:"py-2",children:[t.jsx("span",{className:"text-gray-600 block mb-1",children:"المكونات:"}),t.jsx("span",{className:"text-sm text-gray-700",children:g.join("، ")})]}),w.length>0&&t.jsxs("div",{className:"py-2 bg-yellow-50 rounded-lg px-3",children:[t.jsx("span",{className:"text-yellow-800 font-semibold block mb-1",children:"⚠️ تحذير الحساسية:"}),t.jsx("span",{className:"text-sm text-yellow-700",children:w.join("، ")})]})]})]}),u.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"قد يعجبك أيضاً"}),t.jsx(te,{modules:[Ne],spaceBetween:12,slidesPerView:"auto",freeMode:!0,dir:"rtl",children:u.map(N=>t.jsx(se,{className:"!w-[140px]",children:t.jsx(_e,{product:N,onAddToCart:s})},N.id))})]}),t.jsxs("button",{onClick:i,className:`
              w-full py-4 bg-primary-500 hover:bg-primary-600 
              text-white font-bold rounded-xl
              flex items-center justify-center gap-2
              transition-all duration-300
              shadow-lg hover:shadow-xl
              active:scale-95
            `,children:[t.jsx(re,{className:"w-5 h-5"}),t.jsxs("span",{children:["أضف إلى السلة (",l,")"]})]})]})]})})},mt=({cart:s,onUpdateQuantity:e,onRemove:d,onClose:a})=>{const[l,c]=h.useState(null),[u,f]=h.useState(!1);h.useEffect(()=>{if(s.length===0){c(null);return}(async()=>{f(!0);try{const x=s.map(w=>w.id),g=await(await fetch("https://softcream-api.mahmoud-zahran20025.workers.dev?path=/products/nutrition-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:x})})).json();c(g.data)}catch(x){console.error("Failed to fetch nutrition:",x)}finally{f(!1)}})()},[s]);const n=s.reduce((i,x)=>i+x.price*x.quantity,0),b=s.reduce((i,x)=>i+x.quantity,0);return s.length===0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold",children:"السلة"}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full",children:t.jsx(U,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[t.jsx(re,{className:"w-20 h-20 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"السلة فارغة"}),t.jsx("p",{className:"text-gray-600",children:"ابدأ بإضافة منتجاتك المفضلة"})]})]}):t.jsxs("div",{className:"h-full flex flex-col bg-white",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-gradient-to-r from-primary-500 to-primary-600 text-white",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"السلة"}),t.jsxs("p",{className:"text-sm opacity-90",children:[b," منتج"]})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:t.jsx(U,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:s.map(i=>t.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-3",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("img",{src:i.image,alt:i.name,className:"w-20 h-20 object-cover rounded-lg"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-bold text-gray-900 text-sm line-clamp-2",children:i.name}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("span",{className:"text-primary-600 font-bold",children:[i.price," ج.م"]}),t.jsxs("span",{className:"text-xs text-gray-500",children:["• ",i.calories," سعرة"]})]})]}),t.jsx("button",{onClick:()=>d(i.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",children:t.jsx(ct,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-1 shadow-sm",children:[t.jsx("button",{onClick:()=>e(i.id,i.quantity-1),className:"w-7 h-7 rounded-md bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:t.jsx(Ee,{className:"w-3 h-3"})}),t.jsx("span",{className:"w-8 text-center font-bold text-sm",children:i.quantity}),t.jsx("button",{onClick:()=>e(i.id,i.quantity+1),className:"w-7 h-7 rounded-md bg-primary-500 hover:bg-primary-600 text-white flex items-center justify-center",children:t.jsx(le,{className:"w-3 h-3"})})]}),t.jsxs("span",{className:"font-bold text-gray-900",children:[(i.price*i.quantity).toFixed(2)," ج.م"]})]})]},i.id))}),l&&!u&&t.jsxs("div",{className:"border-t bg-gradient-to-br from-purple-50 to-blue-50 p-4 space-y-4",children:[t.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(W,{className:"w-5 h-5 text-orange-500"}),"ملخص التغذية"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[t.jsx(W,{className:"w-5 h-5 text-orange-500 mx-auto mb-1"}),t.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.totalCalories}),t.jsx("div",{className:"text-xs text-gray-600",children:"سعرة"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[t.jsx(ne,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[l.totalProtein.toFixed(1),"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"بروتين"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[t.jsx(Se,{className:"w-5 h-5 text-yellow-600 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[l.totalCarbs.toFixed(1),"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"كربوهيدرات"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[t.jsx(Q,{className:"w-5 h-5 text-red-500 mx-auto mb-1"}),t.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[l.totalFat.toFixed(1),"g"]}),t.jsx("div",{className:"text-xs text-gray-600",children:"دهون"})]})]}),(l.mentalEnergy>0||l.physicalEnergy>0||l.balancedEnergy>0)&&t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"توزيع الطاقة"}),l.mentalEnergy>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-gray-700",children:"ذهنية"})]}),t.jsx("span",{className:"font-bold text-purple-600",children:l.mentalEnergy})]}),l.physicalEnergy>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Q,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-gray-700",children:"بدنية"})]}),t.jsx("span",{className:"font-bold text-orange-600",children:l.physicalEnergy})]}),l.balancedEnergy>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-gray-700",children:"متوازنة"})]}),t.jsx("span",{className:"font-bold text-green-600",children:l.balancedEnergy})]})]})]}),t.jsxs("div",{className:"border-t p-4 space-y-3 bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between text-lg",children:[t.jsx("span",{className:"font-semibold text-gray-700",children:"الإجمالي"}),t.jsxs("span",{className:"font-bold text-2xl text-primary-600",children:[n.toFixed(2)," ج.م"]})]}),t.jsx("button",{className:`
            w-full py-4 bg-gradient-to-r from-primary-500 to-primary-600
            hover:from-primary-600 hover:to-primary-700
            text-white font-bold rounded-xl
            shadow-lg hover:shadow-xl
            transition-all duration-300
            active:scale-95
          `,children:"إتمام الطلب"})]})]})},ft=[{value:null,label:"الكل"},{value:"كلاسيك",label:"كلاسيك"},{value:"فواكه",label:"فواكه"},{value:"مميز",label:"مميز"},{value:"فاخر",label:"فاخر"},{value:"صحي",label:"صحي"}],xt=[{value:null,label:"كل الأنواع",icon:null},{value:"mental",label:"ذهنية",icon:ae,color:"purple"},{value:"physical",label:"بدنية",icon:Q,color:"orange"},{value:"balanced",label:"متوازنة",icon:ie,color:"green"}],ue=[{value:null,label:"كل السعرات",min:null,max:null},{value:"low",label:"< 200 سعرة",min:0,max:200},{value:"medium",label:"200-300 سعرة",min:200,max:300},{value:"high",label:"> 300 سعرة",min:300,max:9999}],ht=()=>{const{applyFilters:s,filters:e}=X(),[d,a]=h.useState(""),[l,c]=h.useState(!1),[u,f]=h.useState({category:null,energyType:null,calorieRange:null}),n=[u.category,u.energyType,u.calorieRange].filter(Boolean).length,b=h.useCallback(g=>{a(g);const w=setTimeout(()=>{s({...u,searchQuery:g,minCalories:i(u.calorieRange).min,maxCalories:i(u.calorieRange).max})},300);return()=>clearTimeout(w)},[u,s]),i=g=>{const w=ue.find(N=>N.value===g);return{min:w==null?void 0:w.min,max:w==null?void 0:w.max}},x=(g,w)=>{const N={...u,[g]:w};f(N);const _=i(N.calorieRange);s({category:N.category,energyType:N.energyType,minCalories:_.min,maxCalories:_.max,searchQuery:d})},C=()=>{f({category:null,energyType:null,calorieRange:null}),a(""),s({category:null,energyType:null,minCalories:null,maxCalories:null,searchQuery:""})};return t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-[72px] z-30 shadow-sm",children:t.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(ot,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"ابحث عن منتجك المفضل...",value:d,onChange:g=>b(g.target.value),className:`
                w-full pr-10 pl-4 py-3 
                border-2 border-gray-200 rounded-xl
                focus:border-primary-500 focus:outline-none
                transition-colors
              `}),d&&t.jsx("button",{onClick:()=>b(""),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(U,{className:"w-5 h-5"})})]}),t.jsxs("button",{onClick:()=>c(!l),className:`
              relative px-4 py-3 rounded-xl border-2 transition-all
              ${l?"bg-primary-500 text-white border-primary-500":"bg-white text-gray-700 border-gray-200 hover:border-primary-500"}
            `,children:[t.jsx(it,{className:"w-5 h-5"}),n>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:n})]})]}),l&&t.jsxs("div",{className:"space-y-4 animate-slide-up",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"الفئة"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ft.map(g=>t.jsx("button",{onClick:()=>x("category",g.value),className:`
                      px-4 py-2 rounded-lg text-sm font-medium transition-all
                      ${u.category===g.value?"bg-primary-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                    `,children:g.label},g.value||"all"))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"نوع الطاقة"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:xt.map(g=>{const w=g.icon;return t.jsxs("button",{onClick:()=>x("energyType",g.value),className:`
                        flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all
                        ${u.energyType===g.value?`bg-${g.color}-500 text-white shadow-md`:"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                      `,children:[w&&t.jsx(w,{className:"w-4 h-4"}),g.label]},g.value||"all")})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"السعرات الحرارية"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(g=>t.jsx("button",{onClick:()=>x("calorieRange",g.value),className:`
                      px-4 py-2 rounded-lg text-sm font-medium transition-all
                      ${u.calorieRange===g.value?"bg-primary-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                    `,children:g.label},g.value||"all"))})]}),n>0&&t.jsx("button",{onClick:C,className:"w-full py-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:"مسح جميع الفلاتر"})]})]})})};function gt(){const[s,e]=h.useState([]),[d,a]=h.useState(!1);h.useEffect(()=>{const n=()=>{console.log("🆕 React received: open-react-cart"),a(!0)};return window.addEventListener("open-react-cart",n),()=>{window.removeEventListener("open-react-cart",n)}},[]),h.useEffect(()=>{const n=s.reduce((b,i)=>b+i.quantity,0);window.dispatchEvent(new CustomEvent("react-cart-updated",{detail:{count:n,cart:s}})),console.log("🆕 React dispatched: react-cart-updated",{count:n})},[s]);const l=n=>{e(b=>b.find(x=>x.id===n.id)?b.map(x=>x.id===n.id?{...x,quantity:x.quantity+1}:x):[...b,{...n,quantity:1}])},c=n=>{e(b=>b.filter(i=>i.id!==n))},u=(n,b)=>{if(b===0){c(n);return}e(i=>i.map(x=>x.id===n?{...x,quantity:b}:x))},f=s.reduce((n,b)=>n+b.quantity,0);return t.jsx(Ve,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[t.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"🍦 Soft Cream"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Smart Nutrition & Energy"})]}),t.jsxs("button",{onClick:()=>a(!d),className:"relative p-3 bg-primary-500 text-white rounded-full hover:bg-primary-600 transition-colors shadow-lg",children:[t.jsx(re,{className:"w-6 h-6"}),f>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:f})]})]})})}),t.jsx(ht,{}),t.jsx("main",{className:"container mx-auto px-4 py-8",children:t.jsx(ut,{onAddToCart:l})}),t.jsx(pt,{onAddToCart:l}),d&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-end",children:[t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>a(!1)}),t.jsx("div",{className:"relative bg-white h-full w-full max-w-md shadow-2xl overflow-y-auto",children:t.jsx(mt,{cart:s,onUpdateQuantity:u,onRemove:c,onClose:()=>a(!1)})})]})]})})}const pe=document.getElementById("react-shopping-app-root");pe?(ee.createRoot(pe).render(t.jsx(L.StrictMode,{children:t.jsx(gt,{})})),console.log("✅ React Mini-App mounted successfully")):console.error("❌ React root element not found: #react-shopping-app-root");
